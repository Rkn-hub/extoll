<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio - Extoll.Co | Creative Design Portfolio</title>
  <style>
    html {
      overscroll-behavior: none;
      scroll-behavior: smooth;
    }

    @keyframes float {
      0% {
        transform: translate(0px, 0px) scale(1);
      }

      33% {
        transform: translate(30px, -50px) scale(1.1);
      }

      66% {
        transform: translate(-20px, 20px) scale(0.9);
      }

      100% {
        transform: translate(0px, 0px) scale(1);
      }
    }

    .animate-float {
      animation: float 20s infinite ease-in-out;
    }

    .animate-float-delay {
      animation: float 15s infinite ease-in-out reverse;
    }

    /* Force white text inside glass cards for Light Mode */
    .glass-card .text-gray-600,
    .glass-card .text-gray-700,
    .glass-card .text-gray-800,
    .glass-card .text-gray-900,
    .glass-card .text-black,
    .glassmorphism .text-gray-600,
    .glassmorphism .text-gray-700,
    .glassmorphism .text-gray-800,
    .glassmorphism .text-gray-900,
    .glassmorphism .text-black {
      color: white !important;
    }

    /* Ensure muted text is slightly transparent white instead of gray */
    .glass-card .text-gray-500,
    .glassmorphism .text-gray-500 {
      color: rgba(255, 255, 255, 0.7) !important;
    }

    /* FIX: Restore DARK text for content inside light-colored inner cards (like Team/How We Work) */
    /* Target elements inside bg-gray-100 or bg-white that are inside glass cards */
    .glass-card .bg-gray-100 .text-gray-600,
    .glass-card .bg-gray-100 .text-gray-700,
    .glass-card .bg-gray-100 .text-gray-800,
    .glass-card .bg-gray-100 .text-gray-900,
    .glass-card .bg-gray-100 .text-black,
    .glassmorphism .bg-gray-100 .text-gray-600,
    .glassmorphism .bg-gray-100 .text-gray-700,
    .glassmorphism .bg-gray-100 .text-gray-800,
    .glassmorphism .bg-gray-100 .text-gray-900,
    .glassmorphism .bg-gray-100 .text-black,
    .glass-card .bg-white .text-gray-600,
    .glassmorphism .bg-white .text-gray-900 {
      color: #1f2937 !important;
      /* Force Dark Gray for contrast on light background */
    }

    /* FIX: Protect Dark Mode text in those same inner cards */
    /* In dark mode, bg-gray-100 usually becomes white/5 or transparent, so we need white text again */
    .dark .glassmorphism .bg-gray-100 .text-gray-600,
    .dark .glassmorphism .bg-gray-100 .text-gray-700,
    .dark .glassmorphism .bg-gray-100 .text-gray-800,
    .dark .glassmorphism .bg-gray-100 .text-gray-900,
    .dark .glassmorphism .bg-gray-100 .text-black {
      color: rgba(255, 255, 255, 0.9) !important;
    }
  </style>
  <meta name="description"
    content="Explore our complete portfolio of creative design work including graphics design, UI/UX, product design, animations, and video editing projects.">
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="extoll.png">
  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://cdn.tailwindcss.com">
  <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
  <!-- Theme Initialization - Moved to Head for FOUC Prevention -->
  <script>
    (function () {
      const savedTheme = localStorage.getItem('theme');
      const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
      // Default to dark logic
      const shouldBeDark = savedTheme === 'dark' || (!savedTheme && true);

      if (shouldBeDark) {
        document.documentElement.classList.add('dark');
      } else {
        document.documentElement.classList.remove('dark');
      }
    })();
  </script>
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet" />
  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            "primary": "var(--colors-primary)",
            "navy": "#292966",
            "purple": "#5C5C99",
            "purple-light": "#A3A3CC",
            "purple-lighter": "#CCCCFF",
            "background-light": "#E6E6FF",
            "background-dark": "#0A0A0D"
          },
          fontFamily: {
            'display': ['Inter', 'system-ui', 'sans-serif'],
          },
          animation: {
            'fade-in': 'fadeIn 0.5s ease-in-out',
            'slide-up': 'slideUp 0.6s ease-out',
            'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
          },
          keyframes: {
            fadeIn: {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' },
            },
            slideUp: {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' },
            }
          }
        }
      },
    }
  </script>
  <style>
    /* Glass card effects - Light Mode */
    .glass-card,
    .glassmorphism {
      background: rgba(41, 41, 102, 0.85);
      -webkit-backdrop-filter: blur(24px) saturate(200%);
      backdrop-filter: blur(24px) saturate(200%);
      border: 1px solid rgba(255, 255, 255, 0.3);
      box-shadow: 0 8px 32px 0 rgba(41, 41, 102, 0.2);
      transition: all 0.3s ease-in-out;
      color: #ffffff !important;
    }

    /* Glass card effects - Dark Mode */
    .dark .glass-card,
    .dark .glassmorphism {
      background: rgba(20, 29, 36, 0.4) !important;
      -webkit-backdrop-filter: blur(12px);
      backdrop-filter: blur(12px);
      border: 1px solid rgba(112, 253, 255, 0.1) !important;
      box-shadow: none;
      color: white !important;
    }

    /* Sparkle Animation Background */
    /* Page transition overlay */
    .page-transition {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #0a0a0d 0%, #1a1a2e 100%);
      z-index: 9999;
      opacity: 0;
      visibility: hidden;
      transition: all 0.5s ease-in-out;
    }

    .page-transition.active {
      opacity: 1;
      visibility: visible;
    }

    :root {
      --colors-primary: #5C5C99;
      --colors-primary-rgb: 92, 92, 153;
    }

    .dark {
      --colors-primary: #00aaff;
      --colors-primary-rgb: 0, 170, 255;
    }

    /* Force white text inside glass cards for Light Mode */
    .glass-card .text-gray-600,
    .glass-card .text-gray-700,
    .glass-card .text-gray-800,
    .glass-card .text-gray-900,
    .glass-card .text-black,
    .glassmorphism .text-gray-600,
    .glassmorphism .text-gray-700,
    .glassmorphism .text-gray-800,
    .glassmorphism .text-gray-900,
    .glassmorphism .text-black {
      color: white !important;
    }

    /* Ensure muted text is slightly transparent white instead of gray */
    .glass-card .text-gray-500,
    .glassmorphism .text-gray-500 {
      color: rgba(255, 255, 255, 0.7) !important;
    }

    /* FIX: Restore DARK text for content inside light-colored inner cards (like Team/How We Work) */
    /* Target elements inside bg-gray-100 or bg-white that are inside glass cards */
    .glass-card .bg-gray-100 .text-gray-600,
    .glass-card .bg-gray-100 .text-gray-700,
    .glass-card .bg-gray-100 .text-gray-800,
    .glass-card .bg-gray-100 .text-gray-900,
    .glass-card .bg-gray-100 .text-black,
    .glassmorphism .bg-gray-100 .text-gray-600,
    .glassmorphism .bg-gray-100 .text-gray-700,
    .glassmorphism .bg-gray-100 .text-gray-800,
    .glassmorphism .bg-gray-100 .text-gray-900,
    .glassmorphism .bg-gray-100 .text-black,
    .glass-card .bg-white .text-gray-600,
    .glassmorphism .bg-white .text-gray-900 {
      color: #1f2937 !important;
      /* Force Dark Gray for contrast on light background */
    }

    /* FIX: Protect Dark Mode text in those same inner cards */
    /* In dark mode, bg-gray-100 usually becomes white/5 or transparent, so we need white text again */
    .dark .glassmorphism .bg-gray-100 .text-gray-600,
    .dark .glassmorphism .bg-gray-100 .text-gray-700,
    .dark .glassmorphism .bg-gray-100 .text-gray-800,
    .dark .glassmorphism .bg-gray-100 .text-gray-900,
    .dark .glassmorphism .bg-gray-100 .text-black {
      color: rgba(255, 255, 255, 0.9) !important;
    }
  </style>
</head>

<body
  class="bg-background-light dark:bg-background-dark font-display text-gray-800 dark:text-gray-200 transition-colors duration-300">
  <!-- Page Transition Overlay -->
  <div class="page-transition" id="pageTransition"></div>
  <!-- Dynamic Background Glow Effect -->
  <div class="fixed top-0 left-0 w-full h-full overflow-hidden -z-10 pointer-events-none">
    <div
      class="absolute -top-1/4 -left-1/4 w-1/2 h-1/2 bg-purple/20 dark:bg-[#00aaff]/20 rounded-full blur-[120px] animate-float opacity-70">
    </div>
    <div
      class="absolute bottom-0 right-0 w-1/3 h-1/3 bg-purple-light/10 dark:bg-[#70FDFF]/10 rounded-full blur-[150px] animate-float-delay opacity-60">
    </div>
  </div>
  <div class="relative w-full min-h-screen flex flex-col items-center overflow-x-hidden">
    <!-- TopNavBar -->
    <header class="w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-5">
      <div
        class="flex items-center justify-between whitespace-nowrap border-b border-solid border-white/10 px-6 py-3 bg-[#292966]/90 dark:bg-background-dark/80 backdrop-blur-md rounded-xl transition-colors duration-300">
        <a href="index.html"
          class="flex items-center gap-4 text-white hover:opacity-80 transition-opacity cursor-pointer">
          <img src="extoll.png" alt="Extoll.Co Logo - Professional design services"
            class="nav-logo h-8 w-8 object-contain" loading="eager" decoding="sync" id="navLogo">
          <h2 class="text-white text-lg font-bold leading-tight tracking-[-0.015em]">
            Extoll.Co</h2>
        </a>
        <nav class="hidden md:flex flex-1 justify-end gap-8">
          <div class="flex items-center gap-9">
            <a class="nav-link text-white/70 dark:text-white/70 hover:text-white dark:hover:text-white transition-colors text-sm font-medium leading-normal"
              href="index.html">Home</a>
            <a class="text-white relative text-sm font-medium leading-normal" href="portfolio.html">
              Portfolio
              <span class="absolute bottom-[-8px] left-0 w-full h-0.5 bg-primary"></span>
            </a>
            <a class="nav-link text-white/70 dark:text-white/70 hover:text-white dark:hover:text-white transition-colors text-sm font-medium leading-normal"
              href="services.html">Services</a>
            <a class="nav-link text-white/70 dark:text-white/70 hover:text-white dark:hover:text-white transition-colors text-sm font-medium leading-normal"
              href="about.html">About</a>
          </div>
          <a href="contact.html">
            <button
              class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-lg h-10 px-4 bg-primary text-white text-sm font-bold leading-normal tracking-[0.015em] hover:opacity-90 transition-opacity">
              <span class="truncate">Contact Me</span>
            </button>
          </a>
        </nav>
        <!-- Mobile Menu Button -->
        <div class="flex items-center gap-4 md:hidden">
          <button class="text-gray-700 dark:text-white p-2" id="mobile-menu-btn">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M3 12H21M3 6H21M3 18H21" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                stroke-linejoin="round" />
            </svg>
          </button>
        </div>
      </div>
    </header>
    <!-- Mobile Navigation Menu -->
    <div
      class="md:hidden fixed top-16 left-0 right-0 bg-background-dark/95 backdrop-blur-sm border-b border-white/10 z-40 hidden"
      id="mobile-menu">
      <div class="flex flex-col p-4 space-y-4">
        <a href="index.html" class="mobile-nav-link text-white hover:text-primary transition-colors py-2">Home</a>
        <a href="portfolio.html" class="mobile-nav-link text-primary py-2">Portfolio</a>
        <a href="services.html"
          class="mobile-nav-link text-white hover:text-primary transition-colors py-2">Services</a>
        <a href="about.html" class="mobile-nav-link text-white hover:text-primary transition-colors py-2">About</a>
        <a href="contact.html" class="mobile-nav-link text-white hover:text-primary transition-colors py-2">Contact</a>
        <a href="contact.html"
          class="bg-primary text-white px-6 py-2 rounded-lg font-bold hover:bg-primary/90 transition-colors text-center">Get
          Quote</a>
      </div>
    </div>
    <main class="w-full max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 flex flex-col flex-1">
      <!-- Portfolio Header -->
      <section class="text-center py-20 sm:py-28">
        <div class="flex flex-col gap-4 items-center">
          <h1 class="text-gray-900 dark:text-white text-5xl md:text-6xl font-black leading-tight tracking-tighter">
            Our Portfolio
          </h1>
          <p class="text-gray-600 dark:text-white/70 text-base md:text-lg font-normal leading-normal max-w-2xl">
            Explore our complete collection of creative work across various design disciplines. From stunning graphics
            to innovative digital experiences.
          </p>
        </div>
        <div class="w-full h-px bg-gradient-to-r from-transparent via-primary/50 to-transparent my-12"></div>
      </section>
      <!-- Portfolio Content -->
      <section class="pb-20 sm:pb-28">
        <div class="flex w-full max-w-[1280px] flex-1 flex-col mx-auto">
          <div class="flex flex-col gap-8">
            <!-- Filter Section -->
            <div class="flex flex-col gap-6">
              <div class="flex gap-2 p-3 flex-wrap justify-center">
                <div
                  class="filter-chip flex h-10 shrink-0 cursor-pointer items-center justify-center gap-x-2 rounded-full bg-primary px-6 py-2"
                  data-filter="all">
                  <p class="text-white text-sm font-medium leading-normal">All Projects</p>
                </div>
                <div
                  class="filter-chip flex h-10 shrink-0 cursor-pointer items-center justify-center gap-x-2 rounded-full bg-[#141a1e] px-6 py-2 border border-transparent hover:border-neutral-700"
                  data-filter="graphics">
                  <p class="text-neutral-300 text-sm font-medium leading-normal">Graphics Design</p>
                </div>
                <div
                  class="filter-chip flex h-10 shrink-0 cursor-pointer items-center justify-center gap-x-2 rounded-full bg-[#141a1e] px-6 py-2 border border-transparent hover:border-neutral-700"
                  data-filter="product">
                  <p class="text-neutral-300 text-sm font-medium leading-normal">Product Design</p>
                </div>
                <div
                  class="filter-chip flex h-10 shrink-0 cursor-pointer items-center justify-center gap-x-2 rounded-full bg-[#141a1e] px-6 py-2 border border-transparent hover:border-neutral-700"
                  data-filter="ui">
                  <p class="text-neutral-300 text-sm font-medium leading-normal">UI/UX Design</p>
                </div>
                <div
                  class="filter-chip flex h-10 shrink-0 cursor-pointer items-center justify-center gap-x-2 rounded-full bg-[#141a1e] px-6 py-2 border border-transparent hover:border-neutral-700"
                  data-filter="animation">
                  <p class="text-neutral-300 text-sm font-medium leading-normal">2D Animation</p>
                </div>
                <div
                  class="filter-chip flex h-10 shrink-0 cursor-pointer items-center justify-center gap-x-2 rounded-full bg-[#141a1e] px-6 py-2 border border-transparent hover:border-neutral-700"
                  data-filter="video">
                  <p class="text-neutral-300 text-sm font-medium leading-normal">Video Editing</p>
                </div>
              </div>
            </div>
            <!-- Portfolio Grid -->
            <div
              class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8 lg:gap-10 px-4 py-8 min-h-[400px]"
              id="portfolio-grid">
              <!-- Projects will be dynamically loaded -->
            </div>
            <!-- Load More Button -->
            <div class="flex justify-center py-8" id="load-more-container">
              <button id="load-more-btn"
                class="bg-primary text-white px-8 py-3 rounded-lg font-bold hover:bg-primary/90 transition-colors hidden">
                Load More Projects
              </button>
            </div>
            <!-- Empty State -->
            <div class="hidden flex-col items-center justify-center py-16 text-center" id="empty-state">
              <div class="text-6xl mb-4">🎨</div>
              <h3 class="text-2xl font-bold text-white mb-4">No Projects Found</h3>
              <p class="text-gray-400 mb-6">We're working on adding more amazing projects to our portfolio.</p>
            </div>
          </div>
        </div>
      </section>
    </main>
  </div>
  <!-- Scripts -->
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
  <script src="supabase-config.js?v=2024011103"></script>
  <script src="website-assets.js?v=2024011103"></script>
  <script>
    // Portfolio page specific functionality
    let currentPage = 1;
    const projectsPerPage = 12;
    let allProjects = [];
    let filteredProjects = [];
    let currentFilter = 'all';
    // Load all projects on page load
    document.addEventListener('DOMContentLoaded', function () {
      console.log('🚀 Portfolio page loaded, initializing...');
      loadAllProjects();
      setupMobileMenu();
      // loadLogo();
      // Debug: Check if elements exist
      console.log('📋 Debug -', document.getElementById('portfolio-grid'));
      console.log('ðŸ“‹ Debug - Header element:', document.querySelector('header'));
      console.log('ðŸ“‹ Debug - Mobile menu button:', document.getElementById('mobile-menu-btn'));
    });
    // Load all projects from Supabase
    async function loadAllProjects() {
      console.log('🔄 Loading all projects for portfolio page...');
      showLoadingState(); // Show skeletons immediately
      // Initialize Supabase
      if (!initializeSupabase()) {
        console.error('Failed to initialize Supabase, falling back to localStorage');
        loadFromLocalStorage();
        return;
      }
      try {
        // Try public metadata bucket first
        const result = await getProjectsPublic();
        console.log('📊 getProjectsPublic result:', result);
        if (result.success && result.data && result.data.length > 0) {
          allProjects = result.data;
          console.log('âœ… Successfully loaded', allProjects.length, 'projects from public metadata bucket');
        } else {
          // Fallback to direct bucket scanning
          const fallbackResult = await loadProjectsFromPublicBucket();
          if (fallbackResult.success && fallbackResult.data.length > 0) {
            allProjects = fallbackResult.data;
            console.log('âœ… Loaded', allProjects.length, 'projects from fallback method');
          } else {
            // Final fallback to localStorage
            const localProjects = JSON.parse(localStorage.getItem('projects') || '[]');
            allProjects = localProjects;
            console.log('ðŸ“¦ Loaded', allProjects.length, 'projects from localStorage');
          }
        }
        // Update localStorage with fresh data
        if (allProjects.length > 0) {
          localStorage.setItem('projects', JSON.stringify(allProjects));
        }
        // Initialize display
        filteredProjects = [...allProjects];
        displayProjects();
        setupFilters();
      } catch (error) {
        console.error('âŒ Error loading projects:', error);
        loadFromLocalStorage();
      }
    }
    // Load from localStorage fallback
    function loadFromLocalStorage() {
      const projects = JSON.parse(localStorage.getItem('projects') || '[]');
      allProjects = projects;
      filteredProjects = [...allProjects];
      console.log('ðŸ“¦ Loaded', allProjects.length, 'projects from localStorage');
      if (allProjects.length === 0) {
        // Show some sample projects if nothing is available
        console.log('📦 No projects found, showing sample projects');
        allProjects = [
          {
            id: 'sample-1',
            key: 'sample-project-1',
            title: 'Sample Graphics Project',
            category: 'graphics',
            description: 'A beautiful graphics design project showcasing creative solutions.',
            count: 5,
            thumbnail_url: null,
            created_at: new Date().toISOString()
          },
          {
            id: 'sample-2',
            key: 'sample-project-2',
            title: 'Sample UI Design',
            category: 'ui',
            description: 'Modern UI/UX design for web applications.',
            count: 8,
            thumbnail_url: null,
            created_at: new Date().toISOString()
          }
        ];
        filteredProjects = [...allProjects];
      }
      displayProjects();
      setupFilters();
    }

    // Show skeleton loading state
    function showLoadingState() {
      const portfolioGrid = document.getElementById('portfolio-grid');
      const emptyState = document.getElementById('empty-state');
      if (!portfolioGrid) return;

      emptyState.classList.add('hidden');
      emptyState.classList.remove('flex');

      //Create 8 skeleton cards
      const skeletonHtml = Array(8).fill(0).map(() => `
        <div class="glass-card rounded-xl overflow-hidden">
          <div class="w-full h-48 bg-gray-200 dark:bg-white/5 animate-pulse"></div>
          <div class="p-6 space-y-4">
            <div class="h-6 bg-gray-200 dark:bg-white/5 rounded w-3/4 animate-pulse"></div>
            <div class="space-y-2">
              <div class="h-4 bg-gray-200 dark:bg-white/5 rounded w-full animate-pulse"></div>
              <div class="h-4 bg-gray-200 dark:bg-white/5 rounded w-2/3 animate-pulse"></div>
            </div>
          </div>
        </div>
      `).join('');

      portfolioGrid.innerHTML = skeletonHtml;
    }

    // Display projects with pagination
    function displayProjects() {
      const portfolioGrid = document.getElementById('portfolio-grid');
      const loadMoreBtn = document.getElementById('load-more-btn');
      const emptyState = document.getElementById('empty-state');
      if (filteredProjects.length === 0) {
        portfolioGrid.innerHTML = '';
        emptyState.classList.remove('hidden');
        emptyState.classList.add('flex');
        loadMoreBtn.classList.add('hidden');
        return;
      }
      emptyState.classList.add('hidden');
      emptyState.classList.remove('flex');
      // Calculate projects to show
      const projectsToShow = filteredProjects.slice(0, currentPage * projectsPerPage);
      // Generate project cards
      portfolioGrid.innerHTML = projectsToShow.map(project => {
        return createProjectCard(project);
      }).join('');
      // Show/hide load more button
      if (projectsToShow.length < filteredProjects.length) {
        loadMoreBtn.classList.remove('hidden');
      } else {
        loadMoreBtn.classList.add('hidden');
      }
      // Re-initialize interactions
      initializePortfolioInteractions();
    }
    // Setup filter functionality
    function setupFilters() {
      const filterButtons = document.querySelectorAll('.filter-chip');
      filterButtons.forEach(button => {
        button.addEventListener('click', function () {
          const filter = this.getAttribute('data-filter');
          // Update active filter
          filterButtons.forEach(btn => {
            btn.classList.remove('bg-primary');
            btn.classList.add('bg-[#141a1e]');
            btn.querySelector('p').classList.remove('text-white');
            btn.querySelector('p').classList.add('text-neutral-300');
          });
          this.classList.add('bg-primary');
          this.classList.remove('bg-[#141a1e]');
          this.querySelector('p').classList.add('text-white');
          this.querySelector('p').classList.remove('text-neutral-300');
          // Filter projects
          currentFilter = filter;
          currentPage = 1;
          if (filter === 'all') {
            filteredProjects = [...allProjects];
          } else {
            filteredProjects = allProjects.filter(project =>
              project.category && project.category.toLowerCase() === filter.toLowerCase()
            );
          }
          displayProjects();
        });
      });
    }
    // Load more functionality
    document.addEventListener('DOMContentLoaded', function () {
      const loadMoreBtn = document.getElementById('load-more-btn');
      loadMoreBtn.addEventListener('click', function () {
        currentPage++;
        displayProjects();
      });
    });
    // Mobile menu functionality
    function setupMobileMenu() {
      const mobileMenuBtn = document.getElementById('mobile-menu-btn');
      const mobileMenu = document.getElementById('mobile-menu');
      console.log('ðŸ“± Setting up mobile menu...', { mobileMenuBtn, mobileMenu });
      if (mobileMenuBtn && mobileMenu) {
        mobileMenuBtn.addEventListener('click', function () {
          console.log('📱 Mobile menu button clicked');
          mobileMenu.classList.toggle('hidden');
        });
        // Close mobile menu when clicking outside
        document.addEventListener('click', function (e) {
          if (!mobileMenuBtn.contains(e.target) && !mobileMenu.contains(e.target)) {
            mobileMenu.classList.add('hidden');
          }
        });
        console.log('âœ… Mobile menu setup complete');
      } else {
        console.error('âŒ Mobile menu elements not found');
      }
    }
    // Load logo from Supabase with fallback to old location
    function loadLogo() {
      if (!initializeSupabase()) {
        return;
      }
      const supabase = configSupabase;
      // Try new location first, then fallback to old location
      // Note: checking both website-assets/logo and 'logo' bucket folders
      const storagePathStart = SUPABASE_CONFIG.websiteAssets ?
        `${SUPABASE_CONFIG.websiteAssets.folder}/${SUPABASE_CONFIG.websiteAssets.subfolders.logo}` : 'manual-path-check';
      Promise.all([
        supabase.storage.from(SUPABASE_CONFIG.bucket).list(storagePathStart),
        supabase.storage.from(SUPABASE_CONFIG.bucket).list('logo') // Fallback to old location
      ]).then(function ([newLogoResult, oldLogoResult]) {
        let logoResult = newLogoResult;
        let logoPath = storagePathStart;
        // If new location fails or is empty, use old location
        if (newLogoResult.error || !newLogoResult.data || newLogoResult.data.length === 0) {
          console.log('📂 Logo not found in new location, trying old location...');
          logoResult = oldLogoResult;
          logoPath = 'logo';
        }
        if (logoResult.data && logoResult.data.length > 0) {
          const logoFile = logoResult.data[0].name;
          const logoUrl = supabase.storage
            .from(SUPABASE_CONFIG.bucket)
            .getPublicUrl(`${logoPath}/${logoFile}`);
          if (logoUrl.data && logoUrl.data.publicUrl) {
            // Update all logo elements
            const logoElements = document.querySelectorAll('.nav-logo, #navLogo, #footerLogo');
            logoElements.forEach(logoElement => {
              logoElement.src = logoUrl.data.publicUrl;
            });
            console.log('✅ Logo loaded successfully from:', logoPath);
          }
        } else {
          console.log('⚠️ No logo found in either location');
        }
      })
        .catch(function (error) {
          console.error('❌ Error loading logo:', error);
        });
    }
    // Load projects directly from public portfolio bucket
    async function loadProjectsFromPublicBucket() {
      try {
        console.log('🔍 Scanning public portfolio bucket for projects...');
        const supabase = configSupabase;
        // List all folders in the main portfolio bucket (each folder is a project)
        const { data: folders, error: listError } = await supabase.storage
          .from(SUPABASE_CONFIG.bucket) // extoll-portfolio bucket
          .list('', {
            limit: 100,
            sortBy: { column: 'created_at', order: 'desc' }
          });
        if (listError) {
          console.error('❌ Failed to list portfolio bucket:', listError.message);
          return { success: false, error: listError.message };
        }
        if (!folders || folders.length === 0) {
          console.log('📂 No folders found in portfolio bucket');
          return { success: true, data: [] };
        }
        console.log('📂 Found', folders.length, 'items in portfolio bucket');
        // Filter out non-project folders (like website-assets, logo, banner)
        const projectFolders = folders.filter(folder =>
          folder.name &&
          !folder.name.startsWith('website-assets') &&
          !folder.name.startsWith('logo') &&
          !folder.name.startsWith('banner') &&
          folder.name !== 'logo' &&
          folder.name !== 'banner'
        );
        console.log('🎯 Found', projectFolders.length, 'potential project folders');
        // For each project folder, try to get project info in parallel
        const projectPromises = projectFolders.map(async (folder) => {
          try {
            const projectKey = folder.name;
            // Try to find a thumbnail file
            const { data: files, error: filesError } = await supabase.storage
              .from(SUPABASE_CONFIG.bucket)
              .list(projectKey, { limit: 50 });
            if (!filesError && files && files.length > 0) {
              // Find thumbnail file
              const thumbnailFile = files.find(file =>
                file.name.startsWith('thumb-') ||
                file.name.includes('thumbnail')
              );
              let thumbnailUrl = null;
              if (thumbnailFile) {
                const { data: thumbUrlData } = supabase.storage
                  .from(SUPABASE_CONFIG.bucket)
                  .getPublicUrl(`${projectKey}/${thumbnailFile.name}`);
                thumbnailUrl = thumbUrlData?.publicUrl;
              }
              // Count non-thumbnail files
              const projectFiles = files.filter(file =>
                !file.name.startsWith('thumb-') &&
                !file.name.includes('thumbnail')
              );
              // Create a basic project object
              const project = {
                id: projectKey,
                key: projectKey,
                title: projectKey.replace(/-/g, ' ').replace(/\b\w/g, l => l.toUpperCase()),
                category: 'graphics', // Default category
                description: `Project: ${projectKey}`,
                count: projectFiles.length,
                thumbnail_url: thumbnailUrl,
                created_at: folder.created_at || new Date().toISOString()
              };
              console.log('✅ Added project:', project.title, `(${project.count} files)`);
              return project;
            }
            return null;
          } catch (projectError) {
            console.warn('⚠️ Failed to process project folder:', folder.name, projectError.message);
            return null;
          }
        });
        const projectsResults = await Promise.all(projectPromises);
        const projects = projectsResults.filter(p => p !== null);
        console.log(`🎉 Successfully loaded ${projects.length} projects from public bucket`);
        return { success: true, data: projects };
      } catch (error) {
        console.error('❌ Public bucket loading failed:', error.message);
        return { success: false, error: error.message };
      }
    }
    // Create project card HTML
    function createProjectCard(project) {
      // Create thumbnail HTML
      let thumbnailHtml;
      if (project.thumbnail_url) {
        thumbnailHtml = `
          <div class="w-full h-48 bg-gray-200 dark:bg-white/5">
            <img src="${project.thumbnail_url}" alt="${project.title}" class="w-full h-48 object-cover rounded-lg" loading="lazy">
          </div>
        `;
      } else {
        // Default thumbnail with project initial
        const initial = project.title ? project.title.charAt(0).toUpperCase() : 'P';
        thumbnailHtml = `
            <div class="w-full h-48 bg-gradient-to-br from-primary/20 to-primary/40 rounded-lg flex items-center justify-center">
                <span class="text-4xl font-bold text-white">${initial}</span>
            </div>
        `;
      }
      // Get category display name
      const categoryDisplay = getCategoryDisplayName(project.category || 'graphics');
      return `
        <div class="portfolio-item glass-card rounded-xl overflow-hidden hover:border-primary/50 transition-all duration-300 cursor-pointer group shadow-sm dark:shadow-none" 
             data-category="${project.category || 'graphics'}" 
             data-project="${project.key}">
            <div class="relative overflow-hidden w-full h-48">
                ${thumbnailHtml}
                <div class="absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-all duration-300"></div>
            </div>
            <div class="p-6">
                <h3 class="text-white text-lg font-bold mb-2 group-hover:text-primary transition-colors">${project.title}</h3>
                <p class="text-white/80 dark:text-gray-300 text-sm line-clamp-2">${project.description || 'Creative design project showcasing innovative solutions.'}</p>
            </div>
        </div>
    `;
    }
    // Helper function to get display names for categories
    function getCategoryDisplayName(category) {
      const categoryMap = {
        'graphics': 'Graphics Design',
        'product': 'Product Design',
        'ui': 'UI/UX Design',
        'animation': '2D Animation',
        'video': 'Video Editing'
      };
      return categoryMap[category] || 'Design';
    }
    // Initialize portfolio interactions (clicking)
    function initializePortfolioInteractions() {
      const portfolioItems = document.querySelectorAll('.portfolio-item');
      // Project click handlers
      portfolioItems.forEach((item, index) => {
        item.addEventListener('click', function (e) {
          e.preventDefault();
          e.stopPropagation();
          const projectKey = this.getAttribute('data-project');
          // Navigate to project page with project parameter
          if (projectKey) {
            window.location.href = `project.html?project=${projectKey}`;
          }
        });
        // Ensure cursor is pointer
        item.style.cursor = 'pointer';
      });
    }
  </script>
  <!-- Theme Toggle Function -->
  <script>
    // Theme toggle function is now handled by website-assets.js
  </script>
  <script src="particles.js"></script>
</body>

</html>